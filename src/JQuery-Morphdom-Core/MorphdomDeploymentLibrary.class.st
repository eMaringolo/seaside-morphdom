Class {
	#name : #MorphdomDeploymentLibrary,
	#superclass : #MorphdomFileLibrary,
	#category : #'JQuery-Morphdom-Core'
}

{ #category : #'uploaded metadata' }
MorphdomDeploymentLibrary >> jquerymorphdomminJs [
	^ WAFileLibraryResource
		filepath: 'jquery.morphdom.min.js'
		mimeType: (WAMimeType main: 'application' sub: 'x-javascript')
		cacheDuration: (Duration days: 0 hours: 0 minutes: 30 seconds: 0)
		contents: (GRDelayedSend receiver: self selector: #jquerymorphdomminJsContent)
]

{ #category : #uploaded }
MorphdomDeploymentLibrary >> jquerymorphdomminJsContent [
	^ '!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module ''"+o+"''");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require){!function($){var morphdom=require("morphdom");$.fn.morphdom=function(node,options){if(!this.length)return this;$.fn.morphdom.defaults={};var opts=$.extend(!0,{},$.fn.morphdom.defaults,options);"object"==typeof node&&(node=node[0]);var results=$(morphdom(this[0],node,opts));return"function"==typeof options&&options(results),results}}(jQuery)},{morphdom:2}],2:[function(require,module){function empty(o){for(var k in o)if(o.hasOwnProperty(k))return!1;return!0}function toElement(str){!range&&document.createRange&&(range=document.createRange(),range.selectNode(document.body));var fragment;return range&&range.createContextualFragment?fragment=range.createContextualFragment(str):(fragment=document.createElement("body"),fragment.innerHTML=str),fragment.childNodes[0]}function noop(){}function createElementNS(name,namespaceURI){return namespaceURI&&namespaceURI!==XHTML?document.createElementNS(namespaceURI,name):document.createElement(name)}function morphAttrs(fromNode,toNode){var i,attr,attrName,attrNamespaceURI,attrValue,fromValue,attrs=toNode.attributes;for(i=attrs.length-1;i>=0;i--)attr=attrs[i],attrName=attr.name,attrValue=attr.value,attrNamespaceURI=attr.namespaceURI,attrNamespaceURI?(attrName=attr.localName||attrName,fromValue=fromNode.getAttributeNS(attrNamespaceURI,attrName)):fromValue=fromNode.getAttribute(attrName),fromValue!==attrValue&&(attrNamespaceURI?fromNode.setAttributeNS(attrNamespaceURI,attrName,attrValue):fromNode.setAttribute(attrName,attrValue));for(attrs=fromNode.attributes,i=attrs.length-1;i>=0;i--)attr=attrs[i],attr.specified!==!1&&(attrName=attr.name,attrNamespaceURI=attr.namespaceURI,hasAttributeNS(toNode,attrNamespaceURI,attrNamespaceURI?attrName=attr.localName||attrName:attrName)||fromNode.removeAttributeNode(attr))}function moveChildren(fromEl,toEl){for(var curChild=fromEl.firstChild;curChild;){var nextChild=curChild.nextSibling;toEl.appendChild(curChild),curChild=nextChild}return toEl}function defaultGetNodeKey(node){return node.id}function morphdom(fromNode,toNode,options){function removeNodeHelper(node,nestedInSavedEl){var id=getNodeKey(node);if(id?savedEls[id]=node:nestedInSavedEl||onNodeDiscarded(node),node.nodeType===ELEMENT_NODE)for(var curChild=node.firstChild;curChild;)removeNodeHelper(curChild,nestedInSavedEl||id),curChild=curChild.nextSibling}function walkDiscardedChildNodes(node){if(node.nodeType===ELEMENT_NODE)for(var curChild=node.firstChild;curChild;)getNodeKey(curChild)||(onNodeDiscarded(curChild),walkDiscardedChildNodes(curChild)),curChild=curChild.nextSibling}function removeNode(node,parentNode,alreadyVisited){onBeforeNodeDiscarded(node)!==!1&&(parentNode.removeChild(node),alreadyVisited?getNodeKey(node)||(onNodeDiscarded(node),walkDiscardedChildNodes(node)):removeNodeHelper(node))}function morphEl(fromEl,toEl,alreadyVisited,childrenOnly){var toElKey=getNodeKey(toEl);if(toElKey&&delete savedEls[toElKey],!childrenOnly){if(onBeforeElUpdated(fromEl,toEl)===!1)return;if(morphAttrs(fromEl,toEl),onElUpdated(fromEl),onBeforeElChildrenUpdated(fromEl,toEl)===!1)return}if("TEXTAREA"!==fromEl.nodeName){var curToNodeId,fromNextSibling,toNextSibling,savedEl,unmatchedEl,curToNodeChild=toEl.firstChild,curFromNodeChild=fromEl.firstChild;outer:for(;curToNodeChild;){for(toNextSibling=curToNodeChild.nextSibling,curToNodeId=getNodeKey(curToNodeChild);curFromNodeChild;){var curFromNodeId=getNodeKey(curFromNodeChild);if(fromNextSibling=curFromNodeChild.nextSibling,!alreadyVisited&&curFromNodeId&&(unmatchedEl=unmatchedEls[curFromNodeId]))unmatchedEl.parentNode.replaceChild(curFromNodeChild,unmatchedEl),morphEl(curFromNodeChild,unmatchedEl,alreadyVisited),curFromNodeChild=fromNextSibling;else{var curFromNodeType=curFromNodeChild.nodeType;if(curFromNodeType===curToNodeChild.nodeType){var isCompatible=!1;if(curFromNodeType===ELEMENT_NODE?(compareNodeNames(curFromNodeChild,curToNodeChild)&&(curFromNodeId||curToNodeId?curToNodeId===curFromNodeId&&(isCompatible=!0):isCompatible=!0),isCompatible&&morphEl(curFromNodeChild,curToNodeChild,alreadyVisited)):curFromNodeType===TEXT_NODE&&(isCompatible=!0,curFromNodeChild.nodeValue=curToNodeChild.nodeValue),isCompatible){curToNodeChild=toNextSibling,curFromNodeChild=fromNextSibling;continue outer}}removeNode(curFromNodeChild,fromEl,alreadyVisited),curFromNodeChild=fromNextSibling}}curToNodeId&&((savedEl=savedEls[curToNodeId])?(morphEl(savedEl,curToNodeChild,!0),curToNodeChild=savedEl):unmatchedEls[curToNodeId]=curToNodeChild),onBeforeNodeAdded(curToNodeChild)!==!1&&(fromEl.appendChild(curToNodeChild),onNodeAdded(curToNodeChild)),curToNodeChild.nodeType===ELEMENT_NODE&&(curToNodeId||curToNodeChild.firstChild)&&movedEls.push(curToNodeChild),curToNodeChild=toNextSibling,curFromNodeChild=fromNextSibling}for(;curFromNodeChild;)fromNextSibling=curFromNodeChild.nextSibling,removeNode(curFromNodeChild,fromEl,alreadyVisited),curFromNodeChild=fromNextSibling}var specialElHandler=specialElHandlers[fromEl.nodeName];specialElHandler&&specialElHandler(fromEl,toEl)}if(options||(options={}),"string"==typeof toNode)if("#document"===fromNode.nodeName||"HTML"===fromNode.nodeName){var toNodeHtml=toNode;toNode=document.createElement("html"),toNode.innerHTML=toNodeHtml}else toNode=toElement(toNode);var savedEls={},unmatchedEls={},getNodeKey=options.getNodeKey||defaultGetNodeKey,onBeforeNodeAdded=options.onBeforeNodeAdded||noop,onNodeAdded=options.onNodeAdded||noop,onBeforeElUpdated=options.onBeforeElUpdated||options.onBeforeMorphEl||noop,onElUpdated=options.onElUpdated||noop,onBeforeNodeDiscarded=options.onBeforeNodeDiscarded||noop,onNodeDiscarded=options.onNodeDiscarded||noop,onBeforeElChildrenUpdated=options.onBeforeElChildrenUpdated||options.onBeforeMorphElChildren||noop,childrenOnly=options.childrenOnly===!0,movedEls=[],morphedNode=fromNode,morphedNodeType=morphedNode.nodeType,toNodeType=toNode.nodeType;if(!childrenOnly)if(morphedNodeType===ELEMENT_NODE)toNodeType===ELEMENT_NODE?compareNodeNames(fromNode,toNode)||(onNodeDiscarded(fromNode),morphedNode=moveChildren(fromNode,createElementNS(toNode.nodeName,toNode.namespaceURI))):morphedNode=toNode;else if(morphedNodeType===TEXT_NODE){if(toNodeType===TEXT_NODE)return morphedNode.nodeValue=toNode.nodeValue,morphedNode;morphedNode=toNode}if(morphedNode===toNode)onNodeDiscarded(fromNode);else{morphEl(morphedNode,toNode,!1,childrenOnly);var handleMovedEl=function(el){for(var curChild=el.firstChild;curChild;){var nextSibling=curChild.nextSibling,key=getNodeKey(curChild);if(key){var savedEl=savedEls[key];if(savedEl&&compareNodeNames(curChild,savedEl)){if(curChild.parentNode.replaceChild(savedEl,curChild),morphEl(savedEl,curChild,!0),curChild=nextSibling,empty(savedEls))return!1;continue}}curChild.nodeType===ELEMENT_NODE&&handleMovedEl(curChild),curChild=nextSibling}};if(!empty(savedEls))handleMovedElsLoop:for(;movedEls.length;){var movedElsTemp=movedEls;movedEls=[];for(var i=0;i<movedElsTemp.length;i++)if(handleMovedEl(movedElsTemp[i])===!1)break handleMovedElsLoop}for(var savedElId in savedEls)if(savedEls.hasOwnProperty(savedElId)){var savedEl=savedEls[savedElId];onNodeDiscarded(savedEl),walkDiscardedChildNodes(savedEl)}}return!childrenOnly&&morphedNode!==fromNode&&fromNode.parentNode&&fromNode.parentNode.replaceChild(morphedNode,fromNode),morphedNode}var range,hasAttributeNS,testEl="undefined"!=typeof document?document.body||document.createElement("div"):{},XHTML="http://www.w3.org/1999/xhtml",ELEMENT_NODE=1,TEXT_NODE=3;hasAttributeNS=testEl.hasAttributeNS?function(el,namespaceURI,name){return el.hasAttributeNS(namespaceURI,name)}:testEl.hasAttribute?function(el,namespaceURI,name){return el.hasAttribute(name)}:function(el,namespaceURI,name){return!!el.getAttributeNode(name)};var specialElHandlers={OPTION:function(fromEl,toEl){fromEl.selected=toEl.selected,fromEl.selected?fromEl.setAttribute("selected",""):fromEl.removeAttribute("selected","")},INPUT:function(fromEl,toEl){fromEl.checked=toEl.checked,fromEl.checked?fromEl.setAttribute("checked",""):fromEl.removeAttribute("checked"),fromEl.value!==toEl.value&&(fromEl.value=toEl.value),hasAttributeNS(toEl,null,"value")||fromEl.removeAttribute("value"),fromEl.disabled=toEl.disabled,fromEl.disabled?fromEl.setAttribute("disabled",""):fromEl.removeAttribute("disabled")},TEXTAREA:function(fromEl,toEl){var newValue=toEl.value;fromEl.value!==newValue&&(fromEl.value=newValue),fromEl.firstChild&&(fromEl.firstChild.nodeValue=newValue)}},compareNodeNames=function(a,b){return a.nodeName===b.nodeName&&a.namespaceURI===b.namespaceURI};module.exports=morphdom},{}]},{},[1]);'
]

{ #category : #accessing }
MorphdomDeploymentLibrary >> selectorsToInclude [ 

	^#(jquerymorphdomminJs)
]
